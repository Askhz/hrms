# 需求规格说明书 - 面试记录页面

## 1. 项目概述

### 1.1 背景
在现有HRMS系统的招聘管理模块中，已具备候选人管理和面试官指定功能，但缺少专门的面试记录管理页面。当前系统中候选人信息包含面试评价字段，但缺乏系统化的面试记录管理功能，无法有效支持面试流程的完整管理和历史记录查询。

### 1.2 目标
- **业务目标**：建立完善的面试记录管理体系，提升招聘流程的规范化和可追溯性
- **技术目标**：在现有HRMS架构基础上，新增面试记录页面功能，实现候选人与面试官的关联查询和面试评价管理

### 1.3 范围
**包含功能**：
- 面试记录列表展示
- 候选人姓名搜索功能
- 面试官姓名搜索功能
- 面试评价查看与编辑
- 面试记录详情查看

**不包含功能**：
- 面试安排和时间管理
- 面试流程审批
- 面试结果统计分析

## 2. 功能需求

### 2.1 用户角色
| 角色名称 | 描述 | 权限 |
|----------|------|------|
| 系统管理员(sys) | 分公司系统管理员 | 查询、编辑面试记录，管理所有候选人面试信息 |
| 普通用户(normal) | 面试官或HR专员 | 查询面试记录，编辑自己负责的候选人面试评价 |

### 2.2 功能清单

#### 2.2.1 面试记录列表管理
- **需求ID**: FR-001
- **需求描述**: 展示面试记录列表，包含候选人基本信息、面试官信息、面试状态等关键字段
- **优先级**: 高
- **验收标准**: 
  - 列表显示候选人姓名、应聘岗位、面试官姓名、面试状态、面试评价等信息
  - 支持分页显示，每页显示10-20条记录
  - 列表数据实时更新，反映最新的面试状态
- **依赖关系**: 依赖现有候选人数据模型

#### 2.2.2 候选人姓名搜索
- **需求ID**: FR-002
- **需求描述**: 通过候选人姓名进行模糊搜索，快速定位特定候选人的面试记录
- **优先级**: 高
- **验收标准**:
  - 支持候选人姓名的模糊匹配搜索
  - 搜索结果实时显示，输入即搜索
  - 搜索无结果时显示友好提示信息
- **依赖关系**: 依赖FR-001面试记录列表功能

#### 2.2.3 面试官姓名搜索
- **需求ID**: FR-003
- **需求描述**: 通过面试官姓名进行搜索，查看特定面试官负责的所有面试记录
- **优先级**: 高
- **验收标准**:
  - 支持面试官姓名的模糊匹配搜索
  - 能够根据员工表中的staff_name进行关联查询
  - 显示该面试官负责的所有候选人面试记录
- **依赖关系**: 依赖现有员工数据模型和候选人数据模型的关联

#### 2.2.4 面试评价查看与编辑
- **需求ID**: FR-004
- **需求描述**: 查看和编辑候选人的面试评价内容，支持富文本编辑
- **优先级**: 高
- **验收标准**:
  - 可查看候选人的详细面试评价内容
  - 支持面试评价的在线编辑和保存
  - 编辑权限控制：面试官只能编辑自己负责的候选人评价
  - 评价内容支持多行文本输入，最大长度1000字符
- **依赖关系**: 依赖现有候选人编辑功能

#### 2.2.5 面试记录详情查看
- **需求ID**: FR-005
- **需求描述**: 查看单个候选人的完整面试记录详情
- **优先级**: 中
- **验收标准**:
  - 显示候选人完整基本信息（姓名、应聘岗位、学历、专业、工作经验等）
  - 显示面试官信息（姓名、部门、职级）
  - 显示面试评价和面试状态
  - 支持只读模式查看，不可编辑
- **依赖关系**: 依赖现有候选人详情查看功能

## 3. 用户故事

### 3.1 HR专员查看面试记录
**作为** HR专员
**我想要** 查看所有候选人的面试记录列表
**以便于** 了解当前招聘进度和面试状态

**验收条件**:
- 能够看到所有候选人的面试记录列表
- 列表包含候选人姓名、岗位、面试官、状态等关键信息
- 支持分页浏览，提升页面加载性能

### 3.2 面试官搜索负责的候选人
**作为** 面试官
**我想要** 通过我的姓名搜索我负责面试的候选人
**以便于** 快速找到并管理我的面试任务

**验收条件**:
- 能够通过面试官姓名进行搜索
- 搜索结果只显示该面试官负责的候选人
- 搜索响应速度快，用户体验良好

### 3.3 HR查找特定候选人
**作为** HR专员
**我想要** 通过候选人姓名搜索特定的面试记录
**以便于** 快速查询候选人的面试进展情况

**验收条件**:
- 支持候选人姓名的模糊搜索
- 搜索结果准确匹配相关候选人
- 能够从搜索结果直接进入详情页面

### 3.4 面试官编辑面试评价
**作为** 面试官
**我想要** 编辑我负责候选人的面试评价
**以便于** 记录面试过程中的关键信息和评价意见

**验收条件**:
- 能够编辑面试评价内容
- 保存后的评价能够正确显示
- 只能编辑自己负责的候选人评价

## 4. 数据需求

### 4.1 数据实体
- **候选人实体(Candidate)**: 已存在，包含面试评价字段(evaluation)
- **员工实体(Staff)**: 已存在，作为面试官信息来源
- **面试记录视图**: 候选人与面试官的关联查询结果

### 4.2 数据流
1. **查询流程**: 前端请求 → Handler层 → Service层 → 数据库查询 → 返回结果
2. **搜索流程**: 搜索条件 → 模糊匹配查询 → 过滤结果 → 分页返回
3. **编辑流程**: 编辑请求 → 权限验证 → 数据更新 → 返回状态

## 5. 非功能性需求

### 5.1 性能需求
- 面试记录列表加载时间不超过2秒
- 搜索响应时间不超过1秒
- 支持并发用户数不少于50人

### 5.2 安全需求
- 继承现有系统的Cookie鉴权机制
- 面试官只能查看和编辑自己负责的候选人信息
- 系统管理员拥有所有面试记录的查看和编辑权限

### 5.3 可用性需求
- 界面风格与现有系统保持一致，使用LayUI框架
- 支持主流浏览器（Chrome、Firefox、Safari、Edge）
- 移动端友好的响应式设计

## 6. 技术约束

### 6.1 技术栈约束
- 后端：Go语言 + Gin框架 + GORM
- 前端：HTML + JavaScript + LayUI
- 数据库：基于现有的分公司数据库架构

### 6.2 集成约束
- 必须集成到现有的权限管理体系中
- 遵循现有的API设计规范
- 使用现有的数据库连接和配置管理

## 7. 假设和依赖

### 7.1 假设
- 现有候选人数据模型中的staff_id字段正确关联到面试官
- 面试评价字段(evaluation)能够满足业务需求
- 用户已熟悉现有系统的操作方式

### 7.2 依赖
- **技术依赖**: 现有的HRMS系统架构和数据库结构
- **业务依赖**: 候选人管理功能和员工管理功能正常运行
- **数据依赖**: 候选人表和员工表的数据完整性

## 8. 验收标准

### 8.1 功能验收
- [ ] 面试记录列表正确显示所有候选人信息
- [ ] 候选人姓名搜索功能正常工作
- [ ] 面试官姓名搜索功能正常工作
- [ ] 面试评价编辑功能正常保存
- [ ] 权限控制正确实施

### 8.2 性能验收
- [ ] 页面加载时间符合性能要求
- [ ] 搜索响应时间符合要求
- [ ] 并发访问测试通过

### 8.3 兼容性验收
- [ ] 主流浏览器兼容性测试通过
- [ ] 移动端显示效果良好
- [ ] 与现有系统集成无冲突